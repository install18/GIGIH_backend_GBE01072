<h1>Item</h1>

<table>
  <tr>
    <th>ID</th>
    <th>Name</th>
  </tr>

  <% categories.each do |category| %>
    <tr>
      <td><%= category.id %></td>
      <td><%= category.name %></td>
      <td><a href="/categories/detail/<%= category.id %>">Show</a></td>
      <td><a href="/categories/edit/<%= category.id %>">Edit</a></td>
      <td><button onclick="deleteCategory(<%= category.id %>)">Delete</button></td>
    </tr>
  <% end %>
</table>

<a href="/categories/new">Add Category</a>

<script>
    function deleteCategory(id) {
        fetch('http://127.0.0.1:4567/categories/delete/' + id, {
            method: 'DELETE'
        })
            .then(() => {
                location.reload()
            })
    }
</script>